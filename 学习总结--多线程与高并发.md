## 3、对象在内存中的存储布局
- markword
- classpointer
- 自定义变量
- 补齐

### markword
#### 锁状态
- 无锁
- 偏向锁
- 轻量级锁
- 重量级锁

#### 对象锁状态变更
- 无锁
- 一个线程加锁，升级为偏向锁
- 多个线程竞争，撤销偏向锁，各个线程通过自旋CAS方式竞争锁，将自己线程栈中的lock record写入到对象中
- 竞争激烈的时候，升级到重量级锁，向内核申请mutex互斥量

#### 锁消除、锁粗化

## 内存屏障