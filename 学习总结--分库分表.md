## 垂直分库

- 按业务模块划分不同数据库

## 水平分库

- 结构相同的库进行分片存储

### 分库规则

- 能不切分就不切分
- 选择合适的切分规则和分片建
- 尽量避免跨分片join操作

### 分库步骤

- 根据业务状态确定要进行水平切分的表
- 分析业务模型选择分片键及分片算法
- 使用mycat部署分片集群
- 测试分片集群
- 业务及数据迁移 

### 分片键的选择

- 尽可能的比较均匀分布数据到各个节点上
- 该业务字段是最频繁的或者最重要的查询条件

### 分片算法选择

- 对订单相关表进行水平切分
- 例如简单取模算法

## 垂直分表

- 将一张表大字段数据分成其他表，与主表进行一对一关联

## 水平分表

- 将一张大表按分表策略分成多个表,操作表时根据分表策略定位到具体表,拼接表名